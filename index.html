<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        function getComputerChoice() {
            const random = Math.floor(Math.random() * 3) + 1;
            let choice;
            switch (random) {
                case 1:
                    choice = "rock";
                    break;
                case 2:
                    choice = "paper";
                    break;
                case 3:
                    choice = "scissors";
                    break;
            }
            return choice;
        }
        function playRound(playerSelection, computerSelection) {
            let playerSelectionLower = playerSelection.toLowerCase();
            const scenario = {
                "rock paper": "You lose! Paper beats Rock.",
                "paper rock": "You win! Rock beats Paper.",
                "rock scissors": "You win! Rock beats Scissors.",
                "scissors rock": "You lose! Rock beats Scissors.",
                "paper scissors": "You lose! Scissors beats Paper.",
                "scissors paper": "You win! Scissors beats Paper."
            }
            if (playerSelectionLower === computerSelection)
                return `Draw! Both of yall chose ${playerSelectionLower}!`
            return scenario[playerSelectionLower + " " + computerSelection]
        }
        function game() {
            const counts = {
                "computer": 0,
                "player": 0
            }
            for (let i = 0; i < 5; i++) {
                let playerChoice = prompt("Rock, Paper or Scissors?");
                let computerSelection = getComputerChoice()
                let round = playRound(playerChoice, computerSelection)
                console.log(round);
                //update count
                let outcome = round.charAt(4);
                if (outcome === "l") counts["computer"] += 1;
                else if (outcome === "w") counts["player"] += 1
            }
            if (counts["computer"] === counts["player"]) return `There's no winner! Tied with ${counts["computer"]} wins!`
            return (counts["player"] > counts["computer"]) ? `You win with with ${counts["player"]} wins` : `Too bad, you lose! The computer wins with ${counts["computer"]} wins.`
        }
        console.log(game());
    </script>
</body>

</html>